<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âŒš ìƒíƒœì°½ ë¯¹ì„œê¸°</title>
    <style>
        @font-face {
            font-family: 'Ridibatang';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_twelve@1.0/RIDIBatang.woff') format('woff');
            font-weight: normal;
            font-display: swap;
        }

        :root {
            /* ë”°ëœ»í•œ í† ìŠ¤íŠ¸ & ê³ ì–‘ì´ í…Œë§ˆ */
            --bg-primary: #fffbf0;
            --bg-secondary: #fff9e6;
            --bg-tertiary: #fff4d6;
            
            --text-primary: #5c5042;
            --text-secondary: #8b7355;
            
            --accent: #ffb84d;
            --accent-hover: #ffa726;
            --border: #ffe4a3;
            
            --input-bg: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Ridibatang', 'Pretendard', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        header {
            text-align: center;
            padding: 30px 20px;
            border-bottom: 2px solid var(--border);
            margin-bottom: 10px;
            position: relative;
        }

        .bread-link {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            text-decoration: none;
            background: var(--bg-secondary);
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            border: 2px solid var(--border);
            transition: transform 0.3s, border-color 0.3s;
        }

        .bread-link:hover {
            transform: scale(1.1) rotate(10deg);
            border-color: var(--accent);
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        .input-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .input-grid {
                grid-template-columns: 1fr;
            }
            .bread-link {
                top: 10px;
                right: 10px;
                width: 40px;
                height: 40px;
                font-size: 1.5rem;
            }
        }

        .input-box {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        label {
            font-weight: bold;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        textarea {
            width: 100%;
            height: 150px;
            padding: 15px;
            border: 2px solid var(--border);
            border-radius: 12px;
            background: var(--input-bg);
            font-family: 'Ridibatang', sans-serif;
            font-size: 0.95rem;
            resize: vertical;
            transition: border-color 0.3s;
            color: var(--text-primary);
        }

        textarea:focus {
            outline: none;
            border-color: var(--accent);
        }

        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            padding: 10px 0;
        }

        .convert-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
            font-family: 'Ridibatang', sans-serif;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(255, 184, 77, 0.3);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .convert-btn:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(255, 184, 77, 0.4);
        }

        .result-section {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--border);
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        #resultOutput {
            height: 100px;
            background: var(--bg-tertiary);
            border: 1px dashed var(--text-secondary);
        }

        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(50px);
            background: var(--accent);
            color: white;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: bold;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 1000;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        .example-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            text-decoration: underline;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: -10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="https://toastout.github.io/toast/" class="bread-link" title="í™ˆìœ¼ë¡œ ì´ë™" target="_blank">ğŸ</a>
            <h1>âŒš ìƒíƒœì°½ ë¯¹ì„œê¸°</h1>
            <p class="subtitle">Timeì€ ì˜ì–´ í¬ë§·ìœ¼ë¡œ(ìš”ì¼ì€ í•œê¸€), ë‚´ìš©ì€ í•œê¸€ë¡œ!</p>
        </header>

        <div class="input-grid">
            <div class="input-box">
                <label for="engInput">ğŸ‡ºğŸ‡¸ 1. ì›ë³¸ (ì˜ì–´ ìƒíƒœì°½)</label>
                <textarea id="engInput" placeholder="[Time: 2025/11/29(Sat), 15:05 PM|Location: ... ]&#13;&#10;ì—¬ê¸°ì— ì˜ì–´ ì›ë¬¸ì„ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”."></textarea>
            </div>
            <div class="input-box">
                <label for="korInput">ğŸ‡°ğŸ‡· 2. ë²ˆì—­ë³¸ (í•œê¸€ ìƒíƒœì°½)</label>
                <textarea id="korInput" placeholder="[ì‹œê°„: 2025ë…„ 11ì›” 29ì¼(í† )... |ì¥ì†Œ: ... ]&#13;&#10;ì—¬ê¸°ì— í•œê¸€ ë²ˆì—­ë³¸ì„ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”."></textarea>
            </div>
        </div>

        <div class="controls">
            <button class="example-btn" id="loadExample">ì˜ˆì‹œ ë¬¸êµ¬ ë„£ê¸°</button>
            <button class="convert-btn" id="mixBtn">âœ¨ ë³€í™˜ ë° ë³µì‚¬í•˜ê¸°</button>
        </div>

        <div class="result-section">
            <div class="result-header">
                <label>ğŸ“‹ ê²°ê³¼ë¬¼ (ìë™ ë³µì‚¬ë¨)</label>
            </div>
            <textarea id="resultOutput" readonly placeholder="ë³€í™˜ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê²°ê³¼ê°€ ì—¬ê¸°ì— ë‚˜íƒ€ë‚©ë‹ˆë‹¤."></textarea>
        </div>
    </div>

    <div class="toast" id="toastMsg">ğŸ ë¯¹ìŠ¤ ì™„ë£Œ! í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆì–´ìš”.</div>

    <script>
        const engInput = document.getElementById('engInput');
        const korInput = document.getElementById('korInput');
        const resultOutput = document.getElementById('resultOutput');
        const mixBtn = document.getElementById('mixBtn');
        const loadExampleBtn = document.getElementById('loadExample');
        const toast = document.getElementById('toastMsg');

        // ìš”ì¼ ë³€í™˜ ë§µ
        const dayMap = {
            'Mon': 'ì›”',
            'Tue': 'í™”',
            'Wed': 'ìˆ˜',
            'Thu': 'ëª©',
            'Fri': 'ê¸ˆ',
            'Sat': 'í† ',
            'Sun': 'ì¼'
        };

        // ì˜ˆì‹œ ë°ì´í„° ì—…ë°ì´íŠ¸
        loadExampleBtn.addEventListener('click', () => {
            engInput.value = "[Time: 2024/05/20(Mon), 08:50 AM|Location: Company Elevator Hall|ê°€ì˜¨'s outfit: Navy Suit, Guarded Posture|ë‚˜ê¸¸: Black Hoodie, Blazer, Jeans|Belongings: Leather Briefcase, Employee ID Card]";
            korInput.value = "[ì‹œê°„: 2024/05/20(ì›”), ì˜¤ì „ 08:50 | ì¥ì†Œ: íšŒì‚¬ ì—˜ë¦¬ë² ì´í„° í™€ | ê°€ì˜¨ì˜ ë³µì¥: ë„¤ì´ë¹„ ìˆ˜íŠ¸, ê²½ê³„í•˜ëŠ” ìì„¸ | ë‚˜ê¸¸: ê²€ì€ í›„ë“œí‹°, ë¸”ë ˆì´ì €, ì²­ë°”ì§€ | ì†Œì§€í’ˆ: ê°€ì£½ ì„œë¥˜ ê°€ë°©, ì‚¬ì›ì¦]";
        });

        function showToast(message) {
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        function mixStatus() {
            let rawEng = engInput.value.trim();
            let rawKor = korInput.value.trim();

            if (!rawEng || !rawKor) {
                showToast("âš ï¸ ì˜ì–´ì™€ í•œê¸€ ë‚´ìš©ì„ ëª¨ë‘ ë„£ì–´ì£¼ì„¸ìš”!");
                return;
            }

            // ëŒ€ê´„í˜¸ ì œê±°
            const stripBrackets = (str) => {
                if(str.startsWith('[')) str = str.substring(1);
                if(str.endsWith(']')) str = str.slice(0, -1);
                return str;
            };

            let engBody = stripBrackets(rawEng);
            let korBody = stripBrackets(rawKor);

            let engSegments = engBody.split('|');
            let korSegments = korBody.split('|');

            let mixedSegments = [];
            
            for(let i = 0; i < engSegments.length; i++) {
                let engSeg = engSegments[i].trim();
                let korSeg = (korSegments[i]) ? korSegments[i].trim() : ""; 

                let engColonIdx = engSeg.indexOf(':');
                let korColonIdx = korSeg.indexOf(':');

                if (engColonIdx !== -1) {
                    let key = engSeg.substring(0, engColonIdx).trim();
                    let value = "";

                    // â˜… í•µì‹¬ ìˆ˜ì • ì‚¬í•­ v3 â˜…
                    if (key.toLowerCase() === 'time') {
                        // 1. ì˜ì–´ ì›ë³¸ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. (15:05 PM ë“±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´)
                        let timeVal = engSeg.substring(engColonIdx + 1).trim();
                        
                        // 2. ì˜ì–´ ìš”ì¼(Sat, Sun ë“±)ì„ í•œê¸€(í† , ì¼)ë¡œ êµì²´í•©ë‹ˆë‹¤.
                        for (const [engDay, korDay] of Object.entries(dayMap)) {
                            // (Sat) í˜•íƒœë¥¼ ì°¾ì•„ì„œ (í† )ë¡œ ë³€ê²½
                            // ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ì´ ì°¾ê¸° ìœ„í•´ ì •ê·œì‹ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ, 
                            // ì…ë ¥ê°’ íŒ¨í„´ì´ ì¼ì •í•˜ë‹¤ë©´ replaceë¡œ ì²˜ë¦¬
                            if (timeVal.includes(`(${engDay})`)) {
                                timeVal = timeVal.replace(`(${engDay})`, `(${korDay})`);
                            } else if (timeVal.includes(engDay)) {
                                // ê´„í˜¸ ì—†ì´ Satë§Œ ìˆëŠ” ê²½ìš°ë„ ëŒ€ë¹„
                                timeVal = timeVal.replace(engDay, korDay);
                            }
                        }
                        value = timeVal;

                    } else {
                        // ê·¸ ì™¸ í•­ëª©(Location ë“±)ì€ í•œê¸€ ë²ˆì—­ë³¸ ì‚¬ìš©
                        if (korColonIdx !== -1) {
                            value = korSeg.substring(korColonIdx + 1).trim();
                        } else {
                            value = engSeg.substring(engColonIdx + 1).trim();
                        }
                    }

                    mixedSegments.push(`${key}: ${value}`);
                } else {
                    mixedSegments.push(engSeg);
                }
            }

            const finalResult = `[${mixedSegments.join('|')}]`;
            
            resultOutput.value = finalResult;
            
            navigator.clipboard.writeText(finalResult).then(() => {
                showToast("ğŸ ë¯¹ìŠ¤ ì™„ë£Œ! í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆì–´ìš”.");
            }).catch(() => {
                showToast("âœ… ë³€í™˜ ì™„ë£Œ! (ìë™ ë³µì‚¬ ì‹¤íŒ¨)");
            });
        }

        mixBtn.addEventListener('click', mixStatus);
    </script>
</body>
</html>